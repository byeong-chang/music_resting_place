# 230303_회의록(전체 업무 분담)_v2

**parquet으로 저장 : 데이터 타입이 살려지고 (웹에서 돌려야 함) + 읽는 속도가 빠름**

# <챗봇>

### 0. 챗봇 실행 과정

챗봇 wellness dataset 활용 –> q는 covert(단어집합) + 임베딩 –> 입력받은 텍스트를 리스트에 넣어서 합친 것의 글자수 / 300으로 제한 (차후 조정 필요) –> 입력받은 텍스트도 임베딩해서 cos유사도로 진행 –> 왼쪽 칸에 유튜브 뮤직 추천

### 1. 질문지

- 취조하지 않는 분위기 + 조금 더 부드럽게 + 모든 상황에 집어넣을 수 있게

  - ex. 당신의 감정들을 조금 더 들려줄 수 있을까요?

- csv로 저장
- 처음과 마지막에 넣을 질문은 꼭 넣기 (감정 유지 or 감정 전환)

# <감정 분석>

### 0. 데이터 불리기 (영호) + ‘당황’ 제외

- 감정말뭉치 학습 데이터 : 첫번째 대화의 문장만 감정 분류를 해놓은 것

### 1. 데이터 전처리 (영호)

- 한국어 불용어(stopwords) 처리 코드 (슬랙 참고)
- 논문에 있는 전처리 시도 (단, 모델에 넣어보며 데이터 처리가 잘 맞는지 확인해야 함)

  - 참고 논문 : CNN을 적용한 한국어 상품평 감성분석_형태소 임베딩을 중심으로

### 2. 감정 분석 모델 (목표 : 토요일까지 완료)

**1) kobert (제우)**

- 로컬 설치 어려움 (코랩에서만 사용 가능) - test acc : 56.9 / train acc 73
- 파인 튜닝 해보고 끝내기

**2) KoELECTRA (병창)** 

- KoELECTRA (kobert보다 고성능) - 학습 데이터 : 위키피디아, 댓글
- kcELECTRA(확답 어려움) - 학습 데이터 : ko + 댓글

**3) 딥러닝 LSTM (상욱)**

**4) 머신러닝(분류)  (영호 & 도희)**

# <음악 추천>

### 1. 큰 틀

1) 감정 분석 모델 : 감정말뭉치 데이터로 학습

2) 감정 분석 모델로 아래 2개의 유사도 파악

- 감정분석을 챗봇에 돌림 : 0~5 각 확률
- 감정분석을 가사에 돌림 : 0~5 각 확률

  => 이 둘의 유사도를 돌릴 것

3) 가장 유사도가 높은 노래를 추천 

4) 추천한 노래와 관련된 노래 list 추천

### 2. 감정 분석 모델

- **감정 분석 결과 : 감정 0~5까지의 확률이 출력되어야 함**

  - 가사 감정 분석과 챗봇 감정 분석의 유사도를 확인하기 위함

    - 0 ~ 5까지의 감정 중 확률이 높은 감정의 번호를 출력하는 것은 

      노래를 감정(0~5) 별로 노래 카테고리를 만드는 것으로 추천이 아님 

### 3. 반대되는 감정값(기쁨, 슬픔)에 대한 출력 고민

### 4. to do : 노래 예시 뽑기 (제우, 영호, 도희)

- 크롤링 툴로 멜론에서 검색되는 노래
- 진행 방법

  - 노래 선정 방법 

     : 한국어 가사가 잘 나온 것 + 1990년, 2000년 등 연도별 노래 + 멜론 DJ가 추천해준 노래

  - “가수 이름 - 노래 제목” 형식으로 text 파일 형성  ex. 백야 - 테두리 

  - 이후 크롤링 (참고 : Lyrics_crawling.py)

---

# <피드백>

### 1. 노래 가사 데이터 구하는 방법

- 크롤링 툴로 멜론에서 검색되는 노래

  - 멜론의 플레이리스트의 곡들을 자동화시킴

  - 중복 단어가 많은 노래는 제거 (주의)

### 2. 데이터 분석에서 주의사항

(1) 될만한 데이터만 모으는 게 위험 => 우리가 원하는 데이터만 넣지 않게 하기

(2) 설득력이 있을 수 있는 데이터 수집이 필요

(3) 한국 노래 가사가 설명문이 아닌 감정 표현이다보니 어려움 

  - 하나의 가사에 여러 감정이 분포 - 사랑, 슬픔, 싫음 등

### 3. 이전 프로젝트 조

노래 추천 : 노래별로 감정 라벨링을 해서 추천해주고 –> 처음에는 random으로 진행(coldstart = 아무것도 없는 상태) –> 소비자를 통해 좋은지, 다른 노래(데이터가 갖고있지 않는 노래)를 받아서 학습 –> 이후에는 costomize가 됨

** 완성 전 서비스 진행동안 DB 학습시킴 (약 1200곡)

### 4. 유사도

(1) **유클리드 유사도** : 내 데이터와 모든 점을 계산해서 가장 먼 거리를 나와 반대라고 확인 - **직선**

- 한계 : 유클리드는 단순히 거리만 따짐

  - a 기준 

  - b는 사람의 눈에는 a와 가깝지만, a,c와 같은 직선에 있지 않음 

  - c는 사람의 눈에는 a와 멀지만, a와 같은 직선 위에 위치 

  ⇒ 사람 기준에는 a와 b가 가까우니 유사하다고 생각할 수 있지만, 유클리드 유사도는 한 직선 위에 있는 a와 c가 유사하다고 학습

(2) **코사인 유사도** : 180도일 때 나랑 제일 멈

(3) **멘하탄 유사도** : 두 점 사이를 **직각**으로 거쳐 진행 

**⇒ 우리가 원하는 유사도는 방향을 생각해야 함**